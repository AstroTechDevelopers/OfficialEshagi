"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9353],{84258:function(e,t,s){s.r(t),s.d(t,{default:function(){return A}});var a=s(67294),n=s(69931),o=s.n(n),r=s(53126),l=s(8545);const c=e=>{const t=e.metadata.find((e=>"External Department"===e.name));return t?t.value:void 0},i=e=>{let{location:t}=e;if(t&&t.name)return t.name.split(",")[0]};var d=new function(){this.baseUrl="https://boards-api.greenhouse.io/v1/boards",this.boardToken="affirm",this.jobsUrl=`${this.baseUrl}/${this.boardToken}/jobs/`,this.jobsCache=void 0,this.cachingCompleted=void 0,this.loadAndCacheJobs=()=>{this.cachingCompleted=fetch(this.jobsUrl,{method:"GET",mode:"cors"}).then((e=>e.json())).then((e=>{this.jobsCache=e.jobs}))},this.getJobs=async()=>(this.cachingCompleted||this.loadAndCacheJobs(),await this.cachingCompleted,this.jobsCache.forEach((e=>{e.office=i(e)})),this.jobsCache),this.findJobs=async(e,t)=>(e=>{const t={};return e.forEach((e=>{const s=c(e),a=t[s]||[];a.push(e),t[s]=a})),Object.keys(t).sort().map((e=>({name:e,jobs:t[e].sort()})))})((await this.getJobs()).filter((s=>{if(e&&c(s)!==e)return!1;if(t){if(i(s)!==t)return!1}return!0}))),this.getDepartments=async()=>{const e=await this.getJobs(),t=new Set;return e.forEach((e=>{const s=c(e);s&&t.add(s)})),Array.from(t).sort()},this.getOffices=async()=>{const e=await this.getJobs(),t=new Set;return e.forEach((e=>{const s=i(e);t.add(s)})),Array.from(t).sort()}},m=s(30976),f=s(76519),u=s(87332),p=s(84894),h="Jobs-jobsList--J6LU1";const b=e=>{let{extraClassName:t,job:s}=e;const{absolute_url:n,office:r,name:l,title:c}=s,i=o()("JobCard-jobCard--co5nc",t),d=o()("JobCard-title--4edEZ",p.h3);return a.createElement(f.Z,{className:i,to:n,trackEventId:l,testId:"jobCard"},a.createElement("div",{className:d},c),a.createElement("div",{className:"JobCard-office--tctKv"},r))};b.defaultProps={extraClassName:""};var E=b,v=s(74602),C=s(88935),g=s(46332);const O=e=>{let{defaultOption:t,selectedOption:s,label:n,options:r,setOption:l}=e;const c=(0,C.Z)(),i=o()(p.VJ,"Filters-label--30A0K"),d=`jobsFilter${n}`;return a.createElement("div",{className:"Filters-filter--5uMgA"},a.createElement("label",{className:i,htmlFor:d},n),a.createElement("div",{className:"Filters-dropdownWrap--T4QqX"},a.createElement("select",{className:"Filters-dropdown--6LSbu",onChange:e=>{const t=e.currentTarget.value;l(r.find((e=>e===t))),c(g.filterClick,{textInput:t})},id:d},a.createElement("option",{value:t},t),r.map((e=>a.createElement("option",{key:e,value:e,selected:s&&e===s},e)))),a.createElement(v.Z,{className:"Filters-chevron--5gWl4"})))};O.defaultProps={selectedOption:null};const j=e=>{let{departments:t,offices:s,jobCount:n,selectedDepartment:o,selectedOffice:r,setSelectedDepartment:l,setSelectedOffice:c}=e;return a.createElement("div",{className:"Filters-filters--4BHRK"},a.createElement("div",{className:"Filters-inner--70cQN"},a.createElement(O,{label:"Department",defaultOption:"All departments",selectedOption:o,options:t,setOption:l}),a.createElement(O,{label:"Location",defaultOption:"All locations",selectedOption:r,options:s,setOption:c})),a.createElement("p",null,a.createElement("strong",{className:"Filters-results--4QxOG"},n),` ${1===n?"opening":"openings"} found`,(o||r)&&a.createElement("button",{onClick:()=>{l(void 0),c(void 0)},className:"Filters-clearButton--6If7w",type:"button"},"(Clear filters)")))};j.defaultProps={selectedDepartment:void 0,selectedOffice:void 0};var N=j;const J=e=>{let{enteredOnce:t,noAppear:s,onRef:n,title:c}=e;const i=o()("Jobs-container--7jkA2",{enteredOnce:t,noAppear:s}),u=o()("Jobs-departmentTitle--6QqHs",p.h3),{0:b,1:v}=(0,a.useState)(),{0:C,1:g}=(0,a.useState)(),{0:O,1:j}=(0,a.useState)([]),{0:J,1:A}=(0,a.useState)([]),{0:y,1:D}=(0,a.useState)([]),{0:S,1:_}=(0,a.useState)(!1),w=(0,r.F)(),F=e=>{_(!0),w.error(`Could not load Greenhouse jobs data:, ${e}`)};(0,a.useEffect)((()=>{(async()=>{try{const e=await d.getOffices(),t=await d.getDepartments();A(e),D(t)}catch(e){F(e)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e=await d.findJobs(b,C);j(e)}catch(e){F(e)}})()}),[b,C]);const k=O.reduce(((e,t)=>e+t.jobs.length),0);return a.createElement(l.Z,null,a.createElement(m.Z,{title:c,shortPadding:!0}),a.createElement("div",{ref:n,className:i},a.createElement("div",{className:"Jobs-jobs--fd784"},S?a.createElement("div",{className:h},"Check out our"," ",a.createElement(f.Z,{target:"_blank",to:"https://boards.greenhouse.io/affirm"},"open positions!")):a.createElement(a.Fragment,null,a.createElement("div",{className:"Jobs-filters--62rP0"},a.createElement(N,{departments:y,offices:J,jobCount:k,selectedDepartment:b,selectedOffice:C,setSelectedDepartment:v,setSelectedOffice:g})),a.createElement("div",{className:h},O.map((e=>a.createElement("div",{className:"Jobs-department--1uGXp",key:e.name},a.createElement("h3",{className:u},e.name),e.jobs.map((e=>a.createElement(E,{job:e,key:e.id})))))))))))};J.defaultProps={title:null};var A=(0,u.Z)()(J)}}]);